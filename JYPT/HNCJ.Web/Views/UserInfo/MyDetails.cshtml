@model HNCJ.Model.UserInfo

@{
    ViewBag.Title = "会员中心-个人资料";
    Layout = "~/Views/Shared/_UserLayout.cshtml";
}

<h2>MyDetails</h2>
@section Content{
    <div class="u-tab-head">
        <p>
          <a class="selected" href="/UserInfo/MyDetails">个人资料</a>
          <a href="/UserInfo/ModifyPwd">修改密码</a>
        </p>
      </div>
      <div class="u-tab-content">
        <div class="title-div">
          <strong>个人资料</strong>
        </div>
        <div class="form-box">
            @using (Ajax.BeginForm(new AjaxOptions() {OnSuccess="AfterEdit" }))
            {
          <table style="border-spacing:10px 10px;border-collapse:separate; color:#808080" >
              <tr>
                  <td>用户名：</td><td><input type="text" name="UserName" value="@Model.UserName" class="input txt" readonly="true" /></td>
                  <td>真实姓名：</td><td><input type="text" name="NickName" value="@Model.NickName" class="input txt"  /></td>
              </tr>
              <tr>
                  <td>性别：</td><td><input type="text" name="Sex" value="@Model.Sex" class="input txt" /></td>
                  <td>出生日期：</td><td><input type="text" name="Birthday" value="@(Model.Birthday==null?"":Model.Birthday.Value.ToString("yyyy-MM-dd"))" class="input txt" /></td>

              </tr>
              <tr>
                  <td>手机号：</td><td><input type="text" name="Telphone" value="@Model.Telphone" class="input txt" /></td>
                  <td>家庭电话：</td><td><input type="text" name="Moblie" value="@Model.Moblie" class="input txt" /></td>

              </tr>
              <tr>
                  <td>电子邮箱：</td><td><input type="text" name="Email" value="@Model.Email" class="input txt" /></td>
                  <td>QQ：</td><td><input type="text" name="qq" value="@Model.qq" class="input txt" /></td>
              </tr>
              <tr>
                  <td>现住址：</td><td><input type="text" name="Address" value="@Model.Address" class="input txt" /></td>
                  <td>地区：</td><td><input type="text" name="area" value="@Model.area" class="input txt" /></td>
              </tr>
              <tr>
                  <td colspan="4"><input type="submit" class="btn btn-success" value="确认修改" /></td>
              </tr>
          </table>
            }
        </div>
      </div>
    <script type="text/javascript">
        function AfterEdit(data) {
            if (data.status ==1) {
                var d = dialog({ content: data.msg }).show();
                setTimeout(function () {
                    d.close().remove();
                    window.location.reload();
                }, 2000);
            } else {
                dialog({ title: '提示', content: data.msg, okValue: '确定', ok: function () { } }).showModal();
            }
        }
    </script>
      <!--/修改资料-->
    }